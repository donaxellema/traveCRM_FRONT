"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[455],{3455:(pt,R,r)=>{r.r(R),r.d(R,{default:()=>dt});var h=r(177),$=r(1413),U=r(6977),E=r(882),d=r(8834),f=r(9213),a=r(9417),l=r(2102),g=r(9042),C=r(7403),F=r(2798),w=r(6600),t=r(4438),m=r(1562),j=r(8410),b=r(7673),I=r(4190),P=r(8891),G=r.n(P),M=r(3306),q=r.n(M);let Y=(()=>{class s{get accessToken(){return localStorage.getItem("accessToken")??""}set authenticated(i){localStorage.setItem("authenticated",i)}get authenticated(){return localStorage.getItem("authenticated")??""}constructor(i){this.http=i,this._authenticated=!1,this._httpClient=(0,t.WQX)(m.Qq),this.apiUrl=I.S.url}postTwilio(i){let e=(new m.Lr).set("Content-Type","application/json").set("Authorization",null!=this.accessToken?this.accessToken:""),o=new m.Nl;return this.http.post(`${this.apiUrl}parametrosTiwilo/`,i,{headers:e,params:o})}getTwilio(i,e=""){let o=new m.Nl;const n=(u,y="")=>{for(const _ in u)if(u.hasOwnProperty(_)){const v=u[_],T=y?`${y}.${_}`:_;"object"==typeof v&&null!==v?n(v,T):o=o.set(T,v)}};n(i);let c=(new m.Lr).set("Content-Type","application/json").set("Authorization",this.accessToken?`${this.accessToken}`:"");return this.http.get(`${this.apiUrl}parametrosTiwilo/`,{headers:c,params:o})}putTwilio(i){console.log(i);let e=(new m.Lr).set("Content-Type","application/json").set("Authorization",null!=this.accessToken?this.accessToken:""),o=new m.Nl;return this.http.put(`${this.apiUrl}parametrosTiwilo/`,i,{headers:e,params:o})}signInUsingToken(){if(this.authToken=this.accessToken,this._verifyJWTToken(this.accessToken))return(0,b.of)([200,{accessToken:this.accessToken,tokenType:"bearer"}])}check(){return"true"==localStorage.getItem("authenticated")?(0,b.of)(!0):!localStorage.getItem("accessToken")||j.S.isTokenExpired(this.accessToken)?(0,b.of)(!1):this.signInUsingToken()}_verifyJWTToken(i){const e=i.split("."),o=e[0],n=e[1];return e[2]===this._base64url(q()(o+"."+n,this.accessToken))}_base64url(i){let e=G().stringify(i);return e=e.replace(/=+$/,""),e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_"),e}static#t=this.\u0275fac=function(e){return new(e||s)(t.KVO(m.Qq))};static#e=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var k=r(7973);let A=(()=>{class s{constructor(i,e,o){this._formBuilder=i,this._parametrosTiempoService=e,this._systemServices=o}ngOnInit(){this.accountForm_Tiempo=this._formBuilder.group({param_id:null,param_tipo:"",accountsid:"",authtoken:"",numtelephone:""}),this.getCuentaTwilio()}getCuentaTwilio(){this._parametrosTiempoService.getTwilio({param_tipo:"Tiempo",opcion:"CP",_limite:null,_offset:null}).subscribe(e=>{console.log(e),this.accountForm_Tiempo.patchValue({param_id:e.data.param_id,param_tipo:e.data.param_tipo,accountsid:e.data.accountsid,authtoken:e.data.authtoken,numtelephone:e.data.numtelephone})},e=>{console.log(e),this._systemServices.showAlertError(e.error.error)})}updateCuentaTiempo(){const i={data:this.accountForm_Tiempo.value,opcion:"U",_limite:0,_offset:0};console.log(this.accountForm_Tiempo.value),this._parametrosTiempoService.putTwilio(i).subscribe(e=>{console.log(e),(e.code=200)&&this._systemServices.showAlertSuccessCenter(e.message)},e=>{this._systemServices.showAlertError(JSON.stringify(e)),console.log(e)})}static#t=this.\u0275fac=function(e){return new(e||s)(t.rXU(a.ok),t.rXU(Y),t.rXU(k.W))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-parametros"]],standalone:!0,features:[t.aNF],decls:18,vars:5,consts:[[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"sm:col-span-4"],[1,"fuse-mat-emphasized-affix","w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),t.EFF(4,"Parametros"),t.k0s(),t.j41(5,"div",4),t.EFF(6,"Configura tiempos de asignacion por el robot u otros parametros!"),t.k0s()(),t.j41(7,"div",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),t.EFF(11,"Tiempo en minutos para redirigir a nuevo Vendedor "),t.k0s(),t.nrm(12,"mat-icon",8)(13,"input",9),t.k0s()()(),t.nrm(14,"div",10),t.j41(15,"div",11)(16,"button",12),t.bIt("click",function(){return o.updateCuentaTiempo()}),t.EFF(17,"Guardar "),t.k0s()()()()),2&e&&(t.R7$(1),t.Y8G("formGroup",o.accountForm_Tiempo),t.R7$(8),t.Y8G("subscriptSizing","dynamic"),t.R7$(3),t.Y8G("svgIcon","heroicons_solid:clock"),t.R7$(1),t.Y8G("formControlName","accountsid"),t.R7$(3),t.Y8G("color","primary"))},dependencies:[a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD,l.RG,l.rl,l.nJ,l.JW,f.m_,f.An,g.fS,g.fg,C.EE,F.Ve,w.Sy,d.Hl,d.$z],encapsulation:2,changeDetection:0})}return s})(),D=(()=>{class s{constructor(i,e,o){this._formBuilder=i,this._parametrosTwiloService=e,this._systemServices=o}ngOnInit(){this.accountForm_1=this._formBuilder.group({param_id:null,param_tipo:"",accountsid:"",authtoken:"",numtelephone:""}),this.getCuentaTwilio()}getCuentaTwilio(){this._parametrosTwiloService.getTwilio({param_tipo:"Twilio",opcion:"CP",_limite:null,_offset:null}).subscribe(e=>{console.log(e),this.accountForm_1.patchValue({param_id:e.data.param_id,param_tipo:e.data.param_tipo,accountsid:e.data.accountsid,authtoken:e.data.authtoken,numtelephone:e.data.numtelephone})},e=>{console.log(e),this._systemServices.showAlertError(e.error.error)})}updateCuentaTwilio(){const i={data:this.accountForm_1.value,opcion:"U",_limite:0,_offset:0};console.log(this.accountForm_1.value),this._parametrosTwiloService.putTwilio(i).subscribe(e=>{console.log(e),(e.code=200)&&(this._systemServices.showAlertSuccessCenter(e.message),this.accountForm_1.patchValue({param_tipo:e.data.param_tipo,accountsid:e.data.accountsid,authtoken:e.data.authtoken,numtelephone:e.data.numtelephone}))},e=>{this._systemServices.showAlertError(JSON.stringify(e)),console.log(e)})}static#t=this.\u0275fac=function(e){return new(e||s)(t.rXU(a.ok),t.rXU(Y),t.rXU(k.W))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-cuentas"]],standalone:!0,features:[t.Jv_([]),t.aNF],decls:30,vars:11,consts:[[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"sm:col-span-4"],[1,"fuse-mat-emphasized-affix","w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),t.EFF(4,"Configuraciones"),t.k0s(),t.j41(5,"div",4),t.EFF(6,"Las configuraciones de esta seccion son muy sencibles!"),t.k0s()(),t.j41(7,"div",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),t.EFF(11,"Account SID "),t.k0s(),t.nrm(12,"mat-icon",8)(13,"input",9),t.k0s()(),t.j41(14,"div",6)(15,"mat-form-field",7)(16,"mat-label"),t.EFF(17,"Token"),t.k0s(),t.nrm(18,"mat-icon",8)(19,"input",9),t.k0s()(),t.j41(20,"div",6)(21,"mat-form-field",7)(22,"mat-label"),t.EFF(23,"Telefono"),t.k0s(),t.nrm(24,"mat-icon",8)(25,"input",9),t.k0s()()(),t.nrm(26,"div",10),t.j41(27,"div",11)(28,"button",12),t.bIt("click",function(){return o.updateCuentaTwilio()}),t.EFF(29,"Guardar "),t.k0s()()()()),2&e&&(t.R7$(1),t.Y8G("formGroup",o.accountForm_1),t.R7$(8),t.Y8G("subscriptSizing","dynamic"),t.R7$(3),t.Y8G("svgIcon","heroicons_solid:key"),t.R7$(1),t.Y8G("formControlName","accountsid"),t.R7$(2),t.Y8G("subscriptSizing","dynamic"),t.R7$(3),t.Y8G("svgIcon","heroicons_solid:code-bracket-square"),t.R7$(1),t.Y8G("formControlName","authtoken"),t.R7$(2),t.Y8G("subscriptSizing","dynamic"),t.R7$(3),t.Y8G("svgIcon","heroicons_solid:device-phone-mobile"),t.R7$(1),t.Y8G("formControlName","numtelephone"),t.R7$(3),t.Y8G("color","primary"))},dependencies:[a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD,l.RG,l.rl,l.nJ,l.JW,f.m_,f.An,g.fS,g.fg,C.EE,F.Ve,w.Sy,d.Hl,d.$z],encapsulation:2,changeDetection:0})}return s})(),V=(()=>{class s{get accessToken(){return localStorage.getItem("accessToken")??""}set authenticated(i){localStorage.setItem("authenticated",i)}get authenticated(){return localStorage.getItem("authenticated")??""}constructor(i){this.http=i,this._authenticated=!1,this._httpClient=(0,t.WQX)(m.Qq),this.apiUrl=I.S.url}postEmpresa(i){let e=(new m.Lr).set("Content-Type","application/json").set("Authorization",null!=this.accessToken?this.accessToken:""),o=new m.Nl;return this.http.post(`${this.apiUrl}empresas/`,i,{headers:e,params:o})}getEmpresa(i,e=""){let o=new m.Nl;const n=(u,y="")=>{for(const _ in u)if(u.hasOwnProperty(_)){const v=u[_],T=y?`${y}.${_}`:_;"object"==typeof v&&null!==v?n(v,T):o=o.set(T,v)}};n(i);let c=(new m.Lr).set("Content-Type","application/json").set("Authorization",this.accessToken?`${this.accessToken}`:"");return this.http.get(`${this.apiUrl}empresas/`,{headers:c,params:o})}putEmpresa(i){console.log(i);let e=(new m.Lr).set("Content-Type","application/json").set("Authorization",null!=this.accessToken?this.accessToken:""),o=new m.Nl;return this.http.put(`${this.apiUrl}empresas/`,i,{headers:e,params:o})}signInUsingToken(){if(this.authToken=this.accessToken,this._verifyJWTToken(this.accessToken))return(0,b.of)([200,{accessToken:this.accessToken,tokenType:"bearer"}])}check(){return"true"==localStorage.getItem("authenticated")?(0,b.of)(!0):!localStorage.getItem("accessToken")||j.S.isTokenExpired(this.accessToken)?(0,b.of)(!1):this.signInUsingToken()}_verifyJWTToken(i){const e=i.split("."),o=e[0],n=e[1];return e[2]===this._base64url(q()(o+"."+n,this.accessToken))}_base64url(i){let e=G().stringify(i);return e=e.replace(/=+$/,""),e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_"),e}static#t=this.\u0275fac=function(e){return new(e||s)(t.KVO(m.Qq))};static#e=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),X=(()=>{class s{constructor(i,e,o){this._formBuilder=i,this._empresasServices=e,this._systemServices=o}ngOnInit(){this.accountForm1=this._formBuilder.group({emp_id:"",emp_nombre:"",emp_ruc:"",emp_camp1:"",emp_camp2:"",emp_camp3:"",emp_estado:"",emp_camp4:""}),this.getCuentaEmpresa()}getCuentaEmpresa(){this._empresasServices.getEmpresa({emp_nombre:"",opcion:"C",_limite:null,_offset:null}).subscribe(e=>{console.log(e),this.accountForm1.patchValue({emp_id:e.data[0].emp_id,emp_nombre:e.data[0].emp_nombre,emp_ruc:e.data[0].emp_ruc,emp_camp1:e.data[0].emp_camp1,emp_camp2:e.data[0].emp_camp2,emp_camp3:e.data[0].emp_camp3,emp_estado:e.data[0].emp_estado,emp_camp4:e.data[0].emp_camp4})},e=>{console.log(e),this._systemServices.showAlertError(e.error.error)})}updateCuentaEmpresa(){const i={data:this.accountForm1.value,opcion:"U",_limite:0,_offset:0};console.log(this.accountForm1.value),this._empresasServices.putEmpresa(i).subscribe(e=>{console.log(e),(e.code=200)&&this._systemServices.showAlertSuccessCenter(e.message)},e=>{this._systemServices.showAlertError(JSON.stringify(e)),console.log(e)})}static#t=this.\u0275fac=function(e){return new(e||s)(t.rXU(a.ze),t.rXU(V),t.rXU(k.W))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-empresa"]],standalone:!0,features:[t.aNF],decls:43,vars:17,consts:[[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"sm:col-span-4"],[1,"fuse-mat-emphasized-affix","w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName"],[1,"w-full",3,"subscriptSizing"],["matInput","","cdkTextareaAutosize","",3,"formControlName","cdkAutosizeMinRows"],[1,"mt-1","text-md","text-hint"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),t.EFF(4,"Profile"),t.k0s(),t.j41(5,"div",4),t.EFF(6,"Following information is publicly displayed, be careful!"),t.k0s()(),t.j41(7,"div",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),t.EFF(11,"Nombre"),t.k0s(),t.nrm(12,"mat-icon",8)(13,"input",9),t.k0s()(),t.j41(14,"div",6)(15,"mat-form-field",7)(16,"mat-label"),t.EFF(17,"RUC"),t.k0s(),t.nrm(18,"mat-icon",8)(19,"input",9),t.k0s()(),t.j41(20,"div",6)(21,"mat-form-field",7)(22,"mat-label"),t.EFF(23,"Direcci\xf3n"),t.k0s(),t.nrm(24,"mat-icon",8)(25,"input",9),t.k0s()(),t.j41(26,"div",6)(27,"mat-form-field",7)(28,"mat-label"),t.EFF(29,"Correo"),t.k0s(),t.nrm(30,"mat-icon",8)(31,"input",9),t.k0s()(),t.j41(32,"div",6)(33,"mat-form-field",10)(34,"mat-label"),t.EFF(35,"Sobre la empresa"),t.k0s(),t.nrm(36,"textarea",11),t.k0s(),t.j41(37,"div",12),t.EFF(38,"Escribe una breve descripcion de la empresa para tus futuros clientes."),t.k0s()()(),t.nrm(39,"div",13),t.j41(40,"div",14)(41,"button",15),t.bIt("click",function(){return o.updateCuentaEmpresa()}),t.EFF(42,"Guardar "),t.k0s()()()()),2&e&&(t.R7$(1),t.Y8G("formGroup",o.accountForm1),t.R7$(8),t.Y8G("subscriptSizing","dynamic"),t.R7$(3),t.Y8G("svgIcon","heroicons_solid:building-office"),t.R7$(1),t.Y8G("formControlName","emp_nombre"),t.R7$(2),t.Y8G("subscriptSizing","dynamic"),t.R7$(3),t.Y8G("svgIcon","heroicons_solid:document-check"),t.R7$(1),t.Y8G("formControlName","emp_ruc"),t.R7$(2),t.Y8G("subscriptSizing","dynamic"),t.R7$(3),t.Y8G("svgIcon","heroicons_solid:map-pin"),t.R7$(1),t.Y8G("formControlName","emp_camp1"),t.R7$(2),t.Y8G("subscriptSizing","dynamic"),t.R7$(3),t.Y8G("svgIcon","heroicons_solid:envelope"),t.R7$(1),t.Y8G("formControlName","emp_camp2"),t.R7$(2),t.Y8G("subscriptSizing","dynamic"),t.R7$(3),t.Y8G("formControlName","emp_camp3")("cdkAutosizeMinRows",5),t.R7$(5),t.Y8G("color","primary"))},dependencies:[a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD,l.RG,l.rl,l.nJ,l.JW,f.m_,f.An,g.fS,g.fg,C.xb,C.EE,F.Ve,w.Sy,d.Hl,d.$z]})}return s})();var z=r(7575),S=r(5351),N=r(3967);let B=(()=>{class s{constructor(i,e,o,n){this.dialogRef=i,this.data=e,this._etiquetasServices=o,this._systemServices=n}ngOnInit(){console.log("linea 48 "+JSON.stringify(this.data)),this.etiq_color=this.data.etiq_color,this.etiq_descrip=this.data.etiq_descrip,this.etiq_nombre=this.data.etiq_nombre,this.tipoDialog=this.data.tipodialogo}onCancel(){this.dialogRef.close()}onSave(){"Editar"==this.tipoDialog?this._etiquetasServices.putEtiquetas({data:this.data,opcion:"U",_limite:0,_offset:0}).subscribe(e=>{console.log(e),200==e.code&&this._systemServices.showAlertSuccessCenter(e.message),this.dialogRef.close()},e=>{console.log(e),this._systemServices.showAlertError(e.error.error),this.dialogRef.close()}):this._etiquetasServices.postEtiquetas({data:{etiq_nombre:this.data.etiq_nombre,etiq_descrip:this.data.etiq_descrip,etiq_color:this.data.etiq_color},opcion:"I",_limite:0,_offset:0}).subscribe(e=>{console.log(e),200==e.code&&this._systemServices.showAlertSuccessCenter(e.message),this.dialogRef.close()},e=>{console.log(e),this._systemServices.showAlertError(e.error.error),this.dialogRef.close()})}updateColor(i){this.etiq_color=i}static#t=this.\u0275fac=function(e){return new(e||s)(t.rXU(S.CP),t.rXU(S.Vh),t.rXU(N.v),t.rXU(k.W))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-etiquetas"]],standalone:!0,features:[t.aNF],decls:25,vars:7,consts:[[1,"w-full","max-w-3xl"],[1,"w-full"],[1,"text-xl"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"sm:col-span-4"],[1,"fuse-mat-emphasized-affix","w-full",3,"subscriptSizing"],["matInput","","name","nombre",3,"ngModel","ngModelChange"],["matInput","",3,"ngModel","ngModelChange"],[1,"fuse-mat-emphasized-affix"],["matInput","","type","color",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-stroked-button","","type","button",3,"click"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3),t.k0s()(),t.j41(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),t.EFF(8,"Nombre de la Etiqueta"),t.k0s(),t.j41(9,"input",6),t.bIt("ngModelChange",function(c){return o.data.etiq_nombre=c}),t.k0s()()(),t.j41(10,"div",4)(11,"mat-form-field",5)(12,"mat-label"),t.EFF(13,"Descripci\xf3n de la Etiqueta"),t.k0s(),t.j41(14,"input",7),t.bIt("ngModelChange",function(c){return o.data.etiq_descrip=c}),t.k0s()()(),t.j41(15,"div",4)(16,"mat-form-field",8)(17,"mat-label"),t.EFF(18,"Color de la Etiqueta"),t.k0s(),t.j41(19,"input",9),t.bIt("ngModelChange",function(c){return o.data.etiq_color=c}),t.k0s()()()(),t.j41(20,"div",10)(21,"button",11),t.bIt("click",function(){return o.onCancel()}),t.EFF(22," Cancelar "),t.k0s(),t.j41(23,"button",12),t.bIt("click",function(){return o.onSave()}),t.EFF(24,"Guardar "),t.k0s()()()),2&e&&(t.R7$(3),t.SpI("",o.tipoDialog," etiqueta"),t.R7$(3),t.Y8G("subscriptSizing","dynamic"),t.R7$(3),t.Y8G("ngModel",o.data.etiq_nombre),t.R7$(2),t.Y8G("subscriptSizing","dynamic"),t.R7$(3),t.Y8G("ngModel",o.data.etiq_descrip),t.R7$(5),t.Y8G("ngModel",o.data.etiq_color),t.R7$(4),t.Y8G("color","primary"))},dependencies:[h.MD,S.hM,S.E7,d.Hl,d.$z,g.fS,g.fg,l.rl,l.nJ,l.RG,a.YN,a.me,a.BC,a.vS]})}return s})();var x=r(6695),O=r(4412),J=r(152),W=r(3294),Q=r(8032),H=r.n(Q);function L(s,p){1&s&&(t.j41(0,"div",13),t.nrm(1,"mat-progress-bar",14),t.k0s()),2&s&&(t.R7$(1),t.Y8G("mode","indeterminate"))}const K=s=>({"background-color":s});function Z(s,p){if(1&s){const i=t.RV6();t.qex(0),t.j41(1,"div",15)(2,"div",16)(3,"div",17),t.nrm(4,"div",18),t.k0s(),t.j41(5,"div",19)(6,"div",20),t.EFF(7),t.k0s(),t.j41(8,"div",21),t.EFF(9),t.k0s()()(),t.j41(10,"div",22),t.nrm(11,"div",23),t.j41(12,"div",24)(13,"button",7),t.bIt("click",function(){const n=t.eBV(i).$implicit,c=t.XpG();return t.Njj(c.dialogoEtiqueta(n))}),t.nrm(14,"mat-icon",8),t.k0s(),t.j41(15,"button",7),t.bIt("click",function(){const n=t.eBV(i).$implicit,c=t.XpG();return t.Njj(c.dialogoEliminarEtiqueta(n.etiq_id))}),t.nrm(16,"mat-icon",8),t.k0s()()()(),t.bVm()}if(2&s){const i=p.$implicit;t.R7$(4),t.Y8G("ngStyle",t.eq3(5,K,i.etiq_color)),t.R7$(3),t.JRh(i.etiq_nombre),t.R7$(2),t.JRh(i.etiq_descrip),t.R7$(5),t.Y8G("svgIcon","heroicons_outline:pencil"),t.R7$(2),t.Y8G("svgIcon","heroicons_outline:trash")}}const tt=()=>[5,10,20];let et=(()=>{class s{constructor(i,e,o,n){this._formBuilder=i,this.dialog=e,this._etiquetasService=o,this._systemServices=n,this.etiquetasCambiantes=new O.t([]),this.isLoading=!1,this.searchInputControl=new a.hs,this.totalItems=10,this.color="#3498db",this.paginatorLength=0,this.index=0,this.limit=5,this.offset=0,this.totalElementos=0,this.pageEvent=new x.KB,this.searchSubject=new $.B,this.searchTerm="",this.searchSubject.pipe((0,J.B)(300),(0,W.F)()).subscribe(c=>{c.length>=3?this.getEtiquetasSearch():this.getEtiquetas()})}onSearchChange(i){this.searchSubject.next(i)}performSearch(i){console.log(`Buscando: ${i}`)}ngOnInit(){this.getEtiquetas()}getServerData(i){return this.index=i.pageIndex,this.limit=i.pageSize,this.offset=this.index*this.limit,this.getEtiquetas(),i}getEtiquetas(){console.log(this.limit),console.log(this.offset),this._etiquetasService.getEtiquetas({etiq_id:"",opcion:"C",_limite:this.limit,_offset:this.offset}).subscribe(e=>{console.log(e),this.totalElementos=e.totalItems,this.etiquetasCambiantes.next(e.data)},e=>{console.log(e),this._systemServices.showAlertError(e.error.error)})}getEtiquetasSearch(){console.log(this.limit),console.log(this.offset),this._etiquetasService.getEtiquetasSearch({buscar:this.searchTerm,opcion:"S",_limite:this.limit,_offset:this.offset}).subscribe(e=>{this.totalElementos=e.totalItems,this.etiquetasCambiantes.next(e.data)},e=>{console.log(e),this._systemServices.showAlertError(e.error.error)})}trackByFn(i,e){return e.id||i}dialogoEtiqueta(i){i.tipodialogo="Editar",this.dialog.open(B,{width:"450px",data:i,disableClose:!0}).afterClosed().subscribe(o=>{this.getEtiquetas()})}dialogoPostEtiqueta(){this.data={tipodialogo:"Registrar"},this.dialog.open(B,{width:"450px",data:this.data,disableClose:!0}).afterClosed().subscribe(e=>{this.getEtiquetas()})}dialogoEliminarEtiqueta(i){H().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo!"}).then(e=>{e.isConfirmed&&this._etiquetasService.deleteEtiquetas({etiq_id:i,opcion:"D",_limite:0,_offset:0}).subscribe(n=>{console.log(n),200==n.code&&(this._systemServices.showAlertSuccessCenter(n.message),this.getEtiquetas())},n=>{console.log(n),this._systemServices.showAlertError(n.error.error),this.getEtiquetas()})})}static#t=this.\u0275fac=function(e){return new(e||s)(t.rXU(a.ze),t.rXU(S.bZ),t.rXU(N.v),t.rXU(k.W))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-etiquetas"]],viewQuery:function(e,o){if(1&e&&t.GBs(x.iy,5),2&e){let n;t.mGM(n=t.lsd())&&(o.paginator=n.first)}},standalone:!0,features:[t.aNF],decls:14,vars:16,consts:[[1,"w-full","max-w-3xl"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"flex","w-full"],[1,"fuse-mat-dense","fuse-mat-rounded","w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder","ngModel","ngModelChange","input"],["mat-icon-button","",3,"click"],[1,"text-hint",3,"svgIcon"],[1,"flex","flex-col","mt-8","divide-y","border-t","border-b"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"length","pageSize","pageSizeOptions","page"],["paginadorEtiquetas",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"flex","flex-col","sm:flex-row","sm:items-center","py-8"],[1,"flex","items-center"],[1,"w-15","h-10","flex-0","container","ml-4","items-center"],[1,"circle",3,"ngStyle"],[1,"ml-4"],[1,"font-medium"],[1,"text-secondary"],[1,"flex","items-center","mt-4","sm:mt-0","sm:ml-auto"],[1,"order-2","sm:order-1","ml-4","sm:ml-0"],[1,"order-1","sm:order-2","sm:ml-3"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,L,2,1,"div",2),t.j41(3,"div",3)(4,"mat-form-field",4),t.nrm(5,"mat-icon",5),t.j41(6,"input",6),t.bIt("ngModelChange",function(c){return o.searchTerm=c})("input",function(){return o.onSearchChange(o.searchTerm)}),t.k0s(),t.j41(7,"button",7),t.bIt("click",function(){return o.dialogoPostEtiqueta()}),t.nrm(8,"mat-icon",8),t.k0s()()()(),t.j41(9,"div",9),t.DNE(10,Z,17,7,"ng-container",10),t.nI1(11,"async"),t.k0s(),t.j41(12,"mat-paginator",11,12),t.bIt("page",function(c){return o.pageEvent=o.getServerData(c)}),t.k0s()()),2&e&&(t.R7$(2),t.Y8G("ngIf",o.isLoading),t.R7$(2),t.Y8G("subscriptSizing","dynamic"),t.R7$(1),t.Y8G("svgIcon","heroicons_solid:magnifying-glass"),t.R7$(1),t.Y8G("formControl",o.searchInputControl)("autocomplete","off")("placeholder","Buscar etiquetas")("ngModel",o.searchTerm),t.R7$(2),t.Y8G("svgIcon","heroicons_outline:plus-circle"),t.R7$(2),t.Y8G("ngForOf",t.bMT(11,13,o.etiquetasCambiantes))("ngForTrackBy",o.trackByFn),t.R7$(2),t.Y8G("length",o.totalElementos)("pageSize",o.limit)("pageSizeOptions",t.lJ4(15,tt)))},dependencies:[h.bT,z.PO,z.HM,a.YN,a.me,a.BC,a.X1,a.l_,l.RG,l.rl,l.JW,f.m_,f.An,g.fS,g.fg,C.EE,F.Ve,w.Sy,d.Hl,d.iY,h.MD,h.Sq,h.B3,h.Jj,x.Ou,x.iy],styles:[".container{display:inline-flex}.circle{width:30px;height:30px;border-radius:50%}input[type=color]{width:25px}\n"],encapsulation:2,changeDetection:0})}return s})();var it=r(7115);const ot=["drawer"],st=(s,p)=>({"hover:bg-gray-100 dark:hover:bg-hover":s,"bg-primary-50 dark:bg-hover":p}),nt=(s,p)=>({"text-hint":s,"text-primary dark:text-primary-500":p}),at=s=>({"text-primary dark:text-primary-500":s});function rt(s,p){if(1&s){const i=t.RV6();t.qex(0),t.j41(1,"div",19),t.bIt("click",function(){const n=t.eBV(i).$implicit,c=t.XpG();return t.Njj(c.goToPanel(n.id))}),t.nrm(2,"mat-icon",20),t.j41(3,"div",21)(4,"div",22),t.EFF(5),t.k0s(),t.j41(6,"div",23),t.EFF(7),t.k0s()()(),t.bVm()}if(2&s){const i=p.$implicit,e=t.XpG();t.R7$(1),t.Y8G("ngClass",t.l_i(6,st,!e.selectedPanel||e.selectedPanel!==i.id,e.selectedPanel&&e.selectedPanel===i.id)),t.R7$(1),t.Y8G("ngClass",t.l_i(9,nt,!e.selectedPanel||e.selectedPanel!==i.id,e.selectedPanel&&e.selectedPanel===i.id))("svgIcon",i.icon),t.R7$(2),t.Y8G("ngClass",t.eq3(12,at,e.selectedPanel&&e.selectedPanel===i.id)),t.R7$(1),t.SpI(" ",i.title," "),t.R7$(2),t.SpI(" ",i.description," ")}}function ct(s,p){if(1&s&&(t.qex(0),t.EFF(1),t.nrm(2,"app-cuentas"),t.bVm()),2&s){const i=t.XpG();t.R7$(1),t.SpI(" ",i.ngSwitchCase," ")}}function lt(s,p){if(1&s&&(t.qex(0),t.EFF(1),t.nrm(2,"app-parametros"),t.bVm()),2&s){const i=t.XpG();t.R7$(1),t.SpI(" ",i.ngSwitchCase," ")}}function mt(s,p){if(1&s&&(t.qex(0),t.EFF(1),t.nrm(2,"app-empresa"),t.bVm()),2&s){const i=t.XpG();t.R7$(1),t.SpI(" ",i.ngSwitchCase," ")}}function ut(s,p){if(1&s&&(t.qex(0),t.EFF(1),t.nrm(2,"app-etiquetas"),t.bVm()),2&s){const i=t.XpG();t.R7$(1),t.SpI(" ",i.ngSwitchCase," ")}}const dt=[{path:"",component:(()=>{class s{constructor(i,e){this._changeDetectorRef=i,this._fuseMediaWatcherService=e,this.drawerMode="side",this.drawerOpened=!0,this.panels=[],this.selectedPanel="tiwilio",this._unsubscribeAll=new $.B}ngOnInit(){this.panels=[{id:"tiwilio",icon:"heroicons_outline:user-circle",title:"Tiwilio",description:"Configura tus credenciales de twilio"},{id:"parametros",icon:"heroicons_outline:cog",title:"Parametros",description:"Habilita o deshabilita parametros del sistema"},{id:"empresa",icon:"heroicons_outline:building-office",title:"Empresa",description:"Configuraci\xf3n de la empresa"},{id:"etiquetas",icon:"heroicons_outline:bookmark",title:"Etiquetas",description:"Creacion, actualizacion y eliminacion de etiquetas"}],this._fuseMediaWatcherService.onMediaChange$.pipe((0,U.Q)(this._unsubscribeAll)).subscribe(({matchingAliases:i})=>{i.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}goToPanel(i){this.selectedPanel=i,"over"===this.drawerMode&&this.drawer.close()}getPanelInfo(i){return this.panels.find(e=>e.id===i)}trackByFn(i,e){return e.id||i}static#t=this.\u0275fac=function(e){return new(e||s)(t.rXU(t.gRc),t.rXU(it.F))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-configuraciones"]],viewQuery:function(e,o){if(1&e&&t.GBs(ot,5),2&e){let n;t.mGM(n=t.lsd())&&(o.drawer=n.first)}},standalone:!0,features:[t.aNF],decls:25,vars:13,consts:[[1,"flex","flex-col","w-full","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"flex-auto","sm:h-full"],[1,"sm:w-96","dark:bg-gray-900",3,"autoFocus","mode","opened"],["drawer",""],[1,"flex","items-center","justify-between","m-8","mr-6","sm:my-10"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"lg:hidden"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","divide-y","border-t","border-b"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-col"],[1,"flex-auto","px-6","pt-9","pb-12","md:p-8","md:pb-12","lg:p-12"],[1,"flex","items-center"],["mat-icon-button","",1,"lg:hidden","-ml-2",3,"click"],[1,"ml-2","lg:ml-0","text-3xl","font-bold","tracking-tight","leading-none"],[1,"mt-8"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","px-8","py-5","cursor-pointer",3,"ngClass","click"],[3,"ngClass","svgIcon"],[1,"ml-3"],[1,"font-medium","leading-6",3,"ngClass"],[1,"mt-0.5","text-secondary"]],template:function(e,o){if(1&e){const n=t.RV6();t.j41(0,"div",0)(1,"mat-drawer-container",1)(2,"mat-drawer",2,3)(4,"div",4)(5,"div",5),t.EFF(6,"Configuraciones"),t.k0s(),t.j41(7,"div",6)(8,"button",7),t.bIt("click",function(){t.eBV(n);const u=t.sdS(3);return t.Njj(u.close())}),t.nrm(9,"mat-icon",8),t.k0s()()(),t.j41(10,"div",9),t.DNE(11,rt,8,14,"ng-container",10),t.k0s()(),t.j41(12,"mat-drawer-content",11)(13,"div",12)(14,"div",13)(15,"button",14),t.bIt("click",function(){t.eBV(n);const u=t.sdS(3);return t.Njj(u.toggle())}),t.nrm(16,"mat-icon",8),t.k0s(),t.j41(17,"div",15),t.EFF(18),t.k0s()(),t.j41(19,"div",16),t.qex(20,17),t.DNE(21,ct,3,1,"ng-container",18)(22,lt,3,1,"ng-container",18)(23,mt,3,1,"ng-container",18)(24,ut,3,1,"ng-container",18),t.bVm(),t.k0s()()()()()}2&e&&(t.R7$(2),t.Y8G("autoFocus",!1)("mode",o.drawerMode)("opened",o.drawerOpened),t.R7$(7),t.Y8G("svgIcon","heroicons_outline:x-mark"),t.R7$(2),t.Y8G("ngForOf",o.panels)("ngForTrackBy",o.trackByFn),t.R7$(5),t.Y8G("svgIcon","heroicons_outline:bars-3"),t.R7$(2),t.SpI(" ",o.getPanelInfo(o.selectedPanel).title," "),t.R7$(2),t.Y8G("ngSwitch",o.selectedPanel),t.R7$(1),t.Y8G("ngSwitchCase","tiwilio"),t.R7$(1),t.Y8G("ngSwitchCase","parametros"),t.R7$(1),t.Y8G("ngSwitchCase","empresa"),t.R7$(1),t.Y8G("ngSwitchCase","etiquetas"))},dependencies:[E.vg,E.qe,E.$C,E.$l,d.Hl,d.iY,f.m_,f.An,h.pM,h.YU,h.ux,h.e1,A,D,X,et],encapsulation:2,changeDetection:0})}return s})()}]}}]);