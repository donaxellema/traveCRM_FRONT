"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[573],{6375:(be,J,c)=>{c.d(J,{X:()=>q});var t=c(4438),w=c(9181),y=c(8410),O=c(7673),H=c(4190),Z=c(8891),U=c.n(Z),Y=c(3306),N=c.n(Y);let q=(()=>{class k{get accessToken(){return localStorage.getItem("accessToken")??""}set authenticated(u){localStorage.setItem("authenticated",u)}get authenticated(){return localStorage.getItem("authenticated")??""}constructor(u){this.http=u,this._authenticated=!1,this._httpClient=(0,t.WQX)(w.Qq),this.apiUrl=H.S.url}postPersonas(u){let h=(new w.Lr).set("Content-Type","application/json").set("Authorization",null!=this.accessToken?this.accessToken:""),_=new w.Nl;return this.http.post(`${this.apiUrl}personas/`,u,{headers:h,params:_})}getPersonas(u,h=""){let _=new w.Nl;const S=(R,x="")=>{for(const p in R)if(R.hasOwnProperty(p)){const b=R[p],v=x?`${x}.${p}`:p;"object"==typeof b&&null!==b?S(b,v):_=_.set(v,b)}};S(u),console.log("mi parametro seteado "+_),console.log("this.accessToken"),console.log(this.accessToken);let F=(new w.Lr).set("Content-Type","application/json").set("Authorization",this.accessToken?`${this.accessToken}`:"");return this.http.get(`${this.apiUrl}personas/`,{headers:F,params:_})}getPersonasSearch(u,h=""){let _=new w.Nl;console.log("data services"),console.log(u);const S=(R,x="")=>{for(const p in R)if(R.hasOwnProperty(p)){const b=R[p],v=x?`${x}.${p}`:p;"object"==typeof b&&null!==b?S(b,v):_=_.set(v,b)}};S(u),console.log("mi parametro seteado "+_),console.log("this.accessToken"),console.log(this.accessToken);let F=(new w.Lr).set("Content-Type","application/json").set("Authorization",this.accessToken?`${this.accessToken}`:"");return this.http.get(`${this.apiUrl}personasSearch/`,{headers:F,params:_})}putPersonas(u){console.log(u);let h=(new w.Lr).set("Content-Type","application/json").set("Authorization",null!=this.accessToken?this.accessToken:""),_=new w.Nl;return this.http.put(`${this.apiUrl}personas/`,u,{headers:h,params:_})}deletePersonas(u){let h=(new w.Lr).set("Content-Type","application/json").set("Authorization",null!=this.accessToken?this.accessToken:""),_=new w.Nl;return this.http.post(`${this.apiUrl}personasDelete/`,u,{headers:h,params:_})}signInUsingToken(){if(this.authToken=this.accessToken,this._verifyJWTToken(this.accessToken))return(0,O.of)([200,{accessToken:this.accessToken,tokenType:"bearer"}])}check(){return"true"==localStorage.getItem("authenticated")?(0,O.of)(!0):!localStorage.getItem("accessToken")||y.S.isTokenExpired(this.accessToken)?(0,O.of)(!1):this.signInUsingToken()}_verifyJWTToken(u){const h=u.split("."),_=h[0],S=h[1];return h[2]===this._base64url(N()(_+"."+S,this.accessToken))}_base64url(u){let h=U().stringify(u);return h=h.replace(/=+$/,""),h=h.replace(/\+/g,"-"),h=h.replace(/\//g,"_"),h}static#e=this.\u0275fac=function(h){return new(h||k)(t.KVO(w.Qq))};static#t=this.\u0275prov=t.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},9159:(be,J,c)=>{c.d(J,{I6:()=>ze,tP:()=>Ve});var t=c(4438),y=(c(8203),c(5024)),H=(c(6860),c(5542)),U=(c(177),c(1413)),N=(c(6648),c(4412)),k=(c(4402),c(7673)),h=(c(6977),c(6697),c(4085));let Ne=(()=>{class s{static#e=this.\u0275fac=function(o){return new(o||s)};static#t=this.\u0275mod=t.$C({type:s});static#s=this.\u0275inj=t.G2t({imports:[H.E9]})}return s})();var pe=c(6600),ge=c(7786),ce=c(4572),de=c(6354);let Ve=(()=>{class s{static#e=this.\u0275fac=function(o){return new(o||s)};static#t=this.\u0275mod=t.$C({type:s});static#s=this.\u0275inj=t.G2t({imports:[pe.yE,Ne,pe.yE]})}return s})();class ze extends y.qS{get data(){return this._data.value}set data(a){a=Array.isArray(a)?a:[],this._data.next(a),this._renderChangesSubscription||this._filterData(a)}get filter(){return this._filter.value}set filter(a){this._filter.next(a),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(a){this._sort=a,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(a){this._paginator=a,this._updateChangeSubscription()}constructor(a=[]){super(),this._renderData=new N.t([]),this._filter=new N.t(""),this._internalPageChanges=new U.B,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,o)=>{const n=e[o];if((0,h.o1)(n)){const i=Number(n);return i<9007199254740991?i:n}return n},this.sortData=(e,o)=>{const n=o.active,i=o.direction;return n&&""!=i?e.sort((r,l)=>{let d=this.sortingDataAccessor(r,n),g=this.sortingDataAccessor(l,n);const f=typeof d,D=typeof g;f!==D&&("number"===f&&(d+=""),"number"===D&&(g+=""));let m=0;return null!=d&&null!=g?d>g?m=1:d<g&&(m=-1):null!=d?m=1:null!=g&&(m=-1),m*("asc"==i?1:-1)}):e},this.filterPredicate=(e,o)=>{const n=Object.keys(e).reduce((r,l)=>r+e[l]+"\u25ec","").toLowerCase(),i=o.trim().toLowerCase();return-1!=n.indexOf(i)},this._data=new N.t(a),this._updateChangeSubscription()}_updateChangeSubscription(){const a=this._sort?(0,ge.h)(this._sort.sortChange,this._sort.initialized):(0,k.of)(null),e=this._paginator?(0,ge.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,k.of)(null),n=(0,ce.z)([this._data,this._filter]).pipe((0,de.T)(([l])=>this._filterData(l))),i=(0,ce.z)([n,a]).pipe((0,de.T)(([l])=>this._orderData(l))),r=(0,ce.z)([i,e]).pipe((0,de.T)(([l])=>this._pageData(l)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=r.subscribe(l=>this._renderData.next(l))}_filterData(a){return this.filteredData=null==this.filter||""===this.filter?a:a.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(a){return this.sort?this.sortData(a.slice(),this.sort):a}_pageData(a){if(!this.paginator)return a;const e=this.paginator.pageIndex*this.paginator.pageSize;return a.slice(e,e+this.paginator.pageSize)}_updatePaginator(a){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=a,e.pageIndex>0)){const o=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,o);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}}}]);